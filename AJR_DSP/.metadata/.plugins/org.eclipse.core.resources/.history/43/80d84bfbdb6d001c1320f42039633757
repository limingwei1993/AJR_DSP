/*
  ******************************************************************************
  * @file    user_Main.h
  * @author  JYS
  * @version V1.0.0
  * @date    2019-11-20
  * @brief   Init
  */

#ifndef __USER_MAIN_H
#define __USER_MAIN_H

#include <rs232.h>
#include "rti.h"
#include "sys_core.h"
#include "global_Init.h"
#include "reg_rti.h"
#include "reg_can.h"
#include "reg_mibspi.h"
#include "reg_spi.h"
#include "mibspi.h"
#include "Brake.h"
#define MASTER 1
#define SLAVE 0
#define Master_Slave  MASTER
typedef  struct _429_DATA
{
    tValidityF32 Airspeed;                     /*Computed_Air_Speed_206--计算空速*/
    tValidityF32 AircraftAcceleration_Left;    /*Longitudinal_Acceleration_Body_Left_331--机体左侧纵向加速度*/
    tValidityF32 AircraftAcceleration1_Right;  /*Longitudinal_Acceleration_Body_Right_331--机体右侧纵向加速度*/
    kcg_bool LG_GearDown_Locked;      /*Gear_Position_1_272（Bit13）--起落架位置1*/

}REVICE_429_DATA;
typedef  struct _FPGA_DATA
{
        float    Right_inner_wheel_control_valve_detection_current       ;  /*右内轮控制阀检测电流*//*回采*/
        float    Left_inner_wheel_control_valve_detection_current       ; /*左内轮控制阀检测电流 *//*回采*/
        float    Right_inner_wheel_brake_pressure       ;/*右内轮刹车压力 */
        float    Left_inner_wheel_brake_pressure       ;/*左内轮刹车压力 */
        float    Shut_off_valve_current_detection       ;/*切断阀电流检测 *//*回采*/
        float    Right_inner_wheel_temperature       ;/*右内轮温度 */
        float    Left_inner_wheel_temperature       ;/*左内轮温度 */
        tValidityF32 LeftCptPedal;    /*CH1_CPLT_LT_LVDT_Percent--副驾左脚蹬信号*/
        tValidityF32 RightCptPedal;   /*CH1_CPLT_LT_LVDT_Percent--副驾右脚蹬信号*/
        tValidityF32 LeftPPedal;      /*CH1_PLT_LT_LVDT_Percent--主驾左脚蹬信号*/
        tValidityF32 RightPPedal;     /*CH1_PLT_LT_LVDT_Percent--主驾右脚蹬信号*/
        kcg_float32 MaxPedal;         /*无*/


        bool Inner_wheel_ABS_start_signal   ;/* 内轮ABS启动信号*/ /*回采*/
        bool Parking_brake_signal   ;/*停机刹车信号 */
        bool reserve_1   ;/*保留 */
        kcg_bool SpoilerStoredSignal_Left;         /*INBD_IO_1（A22）--扰流板信号*/
        kcg_bool SpoilerStoredSignal_Right;        /*INBD_IO_1（A22）--扰流板信号*/
        kcg_bool LeftWOW;        /*INBD_IO_1（A8）--轮载信号*/
        kcg_bool RightWOW;       /*INBD_IO_1（A8）--轮载信号*/
        tValidityBool zong;      /*INBD_IO_1（A8）--轮载信号*/
        kcg_bool NLGWOW;         /*无*/
        kcg_bool LeftThrottleIdle;        /*INBD_IO_1（A20）--油门信号*/
        kcg_bool RightThrottleIdle;       /*INBD_IO_1（A20）--油门信号*/
        kcg_bool ThrottleIdleAtLeastOne;  /*INBD_IO_1（A20）--油门信号*/
        kcg_bool ThrottleIdleBoth;        /*INBD_IO_1（A20）--油门信号*/
        kcg_bool LandingGearExtentionandRetractionCommand; /*INBD_IO_1（A31）--手柄信号*/
        tValidityBool AutoBRK_OFF; /*INBD_ABS_SW(A16)--自动刹车开关的OFF挡*/
        tValidityBool AutoBRK_LOW; /*INBD_ABS_SW(A17)--自动刹车开关的LOW挡*/
        tValidityBool AutoBRK_MED; /*INBD_ABS_SW(A7)--自动刹车开关的MED挡*/
        tValidityBool AutoBRK_HI;  /*INBD_ABS_SW(A6)--自动刹车开关的HI挡*/
        tValidityBool AutoBRK_RTO; /*INBD_ABS_SW(A15)--自动刹车开关的RTO挡*/
        tValidityF32 LeftWheelSpeed;   /*INBD_LT_WST--左轮轮速*/
        tValidityF32 RightWheelSpeed;  /*INBD_RT_WST--右轮轮速*/
        kcg_float32 WheelSpeed_av;     /*(INBD_LT_WST+INBD_RT_WST）/2*/

        bool Standby_signal ;/*备用信号 */
        bool PIN_PGR_1  ;/*PIN PGR 1 */  /*回采*/
        bool PIN_PGR_2  ;/*PIN PGR 2 */  /*回采*/
        bool reserve_2   ;/*保留 */
        uint16_t reserve_3   ;/*429通信 */
        uint16_t _429_Communication[2]   ;/*计算轮载信号、减速板手柄信号、计算空速信号、纵向加速度信号、液压系统压力信号、蓄压器压力信号 */

} RECEIVE_FPGA_DATA;
typedef  struct _DSP_DATA
{
        uint16_t _429_Communication[2]   ;/*429通信 *//*控制阀信号、切断阀信号、脚蹬信号、压力信号、轮速信号、温度信号 */
        bool ARM_SIG;/*ARM_SIG */
        bool Left_wheel_speed_output_signal;/*左轮速度输出信号 */
        bool Right_wheel_speed_output_signal;/* 右轮速度输出信号*/
        float Pressure_signal_LT;/*压力信号 LT */
        float Pressure_signal_RT;/*压力信号 RT */
        float Inner_wheel_control_valve_current_signal_LT;/*内轮控制阀 电流信号 LT */
        float Inner_wheel_control_valve_current_signal_RT;/* 内轮控制阀 电流信号RT*/
        float Inner_wheel_speed_LT;/*内轮轮速 LT */
        float Inner_wheel_speed_RT;/*内轮轮速 RT */
        float Inner_wheel_shut_off_valve_signal;/*内轮切断阀信号 */
        float BRK_PDL_CH1_PLT_LT_pedal_signal;/*BRK PDL CH1 PLT LT  脚蹬信号 */
        float BRK_PDL_CH1_PLT_RT_pedal_signal;/*BRK PDL CH1 PLT RT  脚蹬信号 */
        float BRK_PDL_CH1_CPLT_LT_pedal_signal;/*BRK PDL CH1 CPLT LT  脚蹬信号 */
        float BRK_PDL_CH1_CPLT_RT_pedal_signal;/*BRK PDL CH1 CPLT RT  脚蹬信号 */

} SEND_FPGA_DATA;
extern void user_main(void);
void SD_GPIO_Init(void);
extern uint8_t SDRAM_RxTx;
#endif /* __USER_MAIN_H */
